<%- include('../fixPages/header') -%>
<%- include('../fixPages/navbar') -%>
<div class="container">
    <div class="col-md-9 offset-md-2">
        <h1 class="display-4">Edit The Event:</h1>
        <hr>
        <!-- Message Succesfuly -->
            <% if (msg && msg != '' ) { %>
                <div class="alert alert-success mt-1 center-alert" role="alert">
                    <%= msg %>
                </div>
            <% } %>
        <!-- Edit New Event -->
            <form  action="/event/update" method="post">
                <div class="form-group">
                    <label for="title">Title</label>
                    <input type="text" name="title" id="tile" class="form-control" value="<%= events.title %>">
                </div>
                <input type="hidden" name="id" value="<%= events.id %>">
                <!-- Errors Handler -->
                    <% if(errors) { %>
                        <% errors.forEach((err)=> {%>
                            <% if (err.path === 'title') { %>
                                <div class="alert alert-danger mt-1">
                                        <%= err.msg %>
                                </div>
                            <% } %>
                        <%})%>
                    <%}%>
                <div class="form-group mt-2">
                    <label for="description">Description</label>
                    <textarea name="description" rows="4" class="form-control"><%= events.desc %></textarea>
                </div>
                <!-- Errors Handler -->
                    <% if(errors) { %>
                        <% errors.forEach((err)=> {%>
                            <% if (err.path === 'description') { %>
                                <div class="alert alert-danger mt-1">
                                        <%= err.msg %>
                                </div>
                            <% } %>
                        <%})%>
                    <%}%>
                <div class="form-group mt-2">
                    <label for="location">Location</label>
                    <input type="text" name="location" id="location" class="form-control"  value="<%= events.location %>">
                </div>
                <!-- Errors Handler -->
                    <% if(errors) { %>
                        <% errors.forEach((err)=> {%>
                            <% if (err.path === 'location') { %>
                                <div class="alert alert-danger mt-1">
                                        <%= err.msg %>
                                </div>
                            <% } %>
                        <%})%>
                    <%}%>
                <div class="form-group mt-2">
                    <label for="date">Date</label>
                    <input type="date" name="date" id="date" class="form-control" value="<%= eventDate %>">
                </div>
                <!-- Errors Handler -->
                    <% if(errors) { %>
                        <% errors.forEach((err)=> {%>
                            <% if (err.path === 'date') { %>
                                <div class="alert alert-danger mt-1">
                                        <%= err.msg %>
                                </div>
                            <% } %>
                        <%})%>
                    <%}%>
                <div class="form-group mt-3">
                    <button type="submit" class="btn btn-primary">Update</button>
                </div>
            </form>
    </div>
</div>
<%- include('../fixPages/footer') -%>